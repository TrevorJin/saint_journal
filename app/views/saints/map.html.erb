<div id="page-wrapper">
  <%= render 'layouts/alerts' %>
  <script src="//maps.google.com/maps/api/js?key=AIzaSyBcmPdtB-dm8x9VoI9MJfxC-cOlWlNSNH4 "></script>
  <script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
  <script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script> <!-- only if you need custom infoboxes -->

  <div id ="myButtons" class="btn-group" data-toggle="buttons">
    <label class="btn btn-primary active">
      <input type="radio" name="options" id="birth_option" autocomplete="off" checked> Birth Places
    </label>
    <label class="btn btn-primary">
      <input type="radio" name="options" id="death_option" autocomplete="off"> Death Places
    </label>
  </div>

<script>
  $('.btn-primary').on('click', function(){
    if ($(this).find('input').attr('id') == 'birth_option') {
      handler.buildMap({ 
        provider: {
          center: {lat: 41.9028, lng: 12.4964},
          zoom: 4
        },
        internal: { 
          id: 'sidebar_builder'
        }
      },
      function(){
        var markers = handler.addMarkers(gon.my_hash);
      });

      map = handler.getMap();
    } else if ($(this).find('input').attr('id') == 'death_option') {
      handler.buildMap({ 
        provider: {
          center: {lat: 41.9028, lng: 12.4964},
          zoom: 4
        },
        internal: { 
          id: 'sidebar_builder'
        }
      },
      function(){
        var markers = handler.addMarkers(gon.their_hash);
      });

      map = handler.getMap();
    }
  });
</script>
  
  <div style='width: 100%;'>
    <div id="sidebar_builder" style='width: 100%; height: 600px;'></div>
  </div>

</div>
<!-- /.page-wrapper -->
